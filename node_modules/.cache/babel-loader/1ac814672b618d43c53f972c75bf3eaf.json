{"ast":null,"code":"import _defineProperty from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{signUp,signIn}from'../../api/auth';import{signUpSuccess,signUpFailure}from'../AutoDismissAlert/messages';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.handleChange=function(event){return _this.setState(_defineProperty({},event.target.name,event.target.value));};_this.onSignUp=function(event){event.preventDefault();var _this$props=_this.props,msgAlert=_this$props.msgAlert,history=_this$props.history,setUser=_this$props.setUser;signUp(_this.state).then(function(){return signIn(_this.state);}).then(function(res){return setUser(res.data.user);}).then(function(){return msgAlert({heading:'Sign Up Success',message:signUpSuccess,variant:'success'});}).then(function(){return history.push('/');}).catch(function(error){_this.setState({email:'',password:'',passwordConfirmation:''});msgAlert({heading:'Sign Up Failed with error: '+error.message,message:signUpFailure,variant:'danger'});});};_this.state={email:'',password:'',passwordConfirmation:''};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,password=_this$state.password,passwordConfirmation=_this$state.passwordConfirmation;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10 col-md-8 mx-auto mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.onSignUp,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"email\",name:\"email\",value:email,placeholder:\"Enter email\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"password\",value:password,type:\"password\",placeholder:\"Password\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"passwordConfirmation\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"passwordConfirmation\",value:passwordConfirmation,type:\"password\",placeholder:\"Confirm Password\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});}}]);return SignUp;}(Component);export default withRouter(SignUp);","map":{"version":3,"sources":["/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/src/components/auth/SignUp.js"],"names":["React","Component","withRouter","signUp","signIn","signUpSuccess","signUpFailure","Form","Button","SignUp","props","handleChange","event","setState","target","name","value","onSignUp","preventDefault","msgAlert","history","setUser","state","then","res","data","user","heading","message","variant","push","catch","error","email","password","passwordConfirmation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { signUp, signIn } from '../../api/auth'\nimport { signUpSuccess, signUpFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass SignUp extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      email: '',\n      password: '',\n      passwordConfirmation: ''\n    }\n  }\n\nhandleChange = (event) =>\n  this.setState({\n    [event.target.name]: event.target.value\n  })\n\nonSignUp = (event) => {\n  event.preventDefault()\n\n  const { msgAlert, history, setUser } = this.props\n\n  signUp(this.state)\n    .then(() => signIn(this.state))\n    .then((res) => setUser(res.data.user))\n    .then(() =>\n      msgAlert({\n        heading: 'Sign Up Success',\n        message: signUpSuccess,\n        variant: 'success'\n      })\n    )\n    .then(() => history.push('/'))\n    .catch((error) => {\n      this.setState({ email: '', password: '', passwordConfirmation: '' })\n      msgAlert({\n        heading: 'Sign Up Failed with error: ' + error.message,\n        message: signUpFailure,\n        variant: 'danger'\n      })\n    })\n}\n\nrender () {\n  const { email, password, passwordConfirmation } = this.state\n\n  return (\n    <div className='row'>\n      <div className='col-sm-10 col-md-8 mx-auto mt-5'>\n        <h3>Sign Up</h3>\n        <Form onSubmit={this.onSignUp}>\n          <Form.Group controlId='email'>\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              required\n              type='email'\n              name='email'\n              value={email}\n              placeholder='Enter email'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name='password'\n              value={password}\n              type='password'\n              placeholder='Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='passwordConfirmation'>\n            <Form.Label>Password Confirmation</Form.Label>\n            <Form.Control\n              required\n              name='passwordConfirmation'\n              value={passwordConfirmation}\n              type='password'\n              placeholder='Confirm Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n}\n\nexport default withRouter(SignUp)\n"]},"metadata":{},"sourceType":"module"}