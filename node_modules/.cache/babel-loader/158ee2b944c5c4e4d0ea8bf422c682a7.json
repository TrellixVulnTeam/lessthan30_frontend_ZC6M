{"ast":null,"code":"import _classCallCheck from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{indexPoems}from'../../api/poem';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyPoems=/*#__PURE__*/function(_Component){_inherits(MyPoems,_Component);var _super=_createSuper(MyPoems);function MyPoems(props){var _this;_classCallCheck(this,MyPoems);_this=_super.call(this,props);_this.state={poems:null};return _this;}_createClass(MyPoems,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props=this.props,user=_this$props.user,msgAlert=_this$props.msgAlert;indexPoems(user).then(function(res){return _this2.setState({poems:res.data.poems});}).then(function(){msgAlert({heading:'Welcome to <30',message:'Look at allll those Poems',variant:'success'});}).catch(function(error){msgAlert({heading:'Index Failed',message:'Index error:'+error.message,variant:'danger'});});}},{key:\"render\",value:function render(){var poems=this.state.poems;if(poems===null){return'Loading...';}var poemJSX;if(poems.length===0){poemJSX='No poems, create some';}else{// eslint-disable-next-line array-callback-return\npoemJSX=poems.map(function(poem){return/*#__PURE__*/_jsxs(\"div\",{className:\"my-poem\",children:[/*#__PURE__*/_jsx(\"h3\",{children:poem.title}),/*#__PURE__*/_jsx(Link,{to:\"/poem/\".concat(poem.id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",children:\"View Poem\"})})]},poem.id);}).reverse();//reverse to have recent at the top\n}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Poems\"}),/*#__PURE__*/_jsx(\"div\",{children:poemJSX})]});}}]);return MyPoems;}(Component);export default MyPoems;","map":{"version":3,"sources":["/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/src/components/Poems/MyPoems.js"],"names":["React","Component","indexPoems","Link","MyPoems","props","state","poems","user","msgAlert","then","res","setState","data","heading","message","variant","catch","error","poemJSX","length","map","poem","title","id","reverse"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,C,gJAEMC,CAAAA,O,kGACJ,iBAAaC,KAAb,CAAoB,yCAClB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,IADI,CAAb,CAHkB,aAMnB,C,qDAED,4BAAqB,iBACnB,gBAA2B,KAAKF,KAAhC,CAAQG,IAAR,aAAQA,IAAR,CAAcC,QAAd,aAAcA,QAAd,CAEAP,UAAU,CAACM,IAAD,CAAV,CACGE,IADH,CACQ,SAACC,GAAD,QAAS,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEL,KAAK,CAAEI,GAAG,CAACE,IAAJ,CAASN,KAAlB,CAAd,CAAT,EADR,EAEGG,IAFH,CAEQ,UAAM,CACVD,QAAQ,CAAC,CACPK,OAAO,CAAE,gBADF,CAEPC,OAAO,CAAE,2BAFF,CAGPC,OAAO,CAAE,SAHF,CAAD,CAAR,CAKD,CARH,EASGC,KATH,CASS,SAACC,KAAD,CAAW,CAChBT,QAAQ,CAAC,CACPK,OAAO,CAAE,cADF,CAEPC,OAAO,CAAE,eAAiBG,KAAK,CAACH,OAFzB,CAGPC,OAAO,CAAE,QAHF,CAAD,CAAR,CAKD,CAfH,EAgBD,C,sBAGH,iBAAU,CACR,GAAQT,CAAAA,KAAR,CAAkB,KAAKD,KAAvB,CAAQC,KAAR,CAEA,GAAIA,KAAK,GAAK,IAAd,CAAoB,CAClB,MAAO,YAAP,CACD,CAED,GAAIY,CAAAA,OAAJ,CACA,GAAIZ,KAAK,CAACa,MAAN,GAAiB,CAArB,CAAwB,CACtBD,OAAO,CAAG,uBAAV,CACD,CAFD,IAEO,CACL;AACAA,OAAO,CAAGZ,KAAK,CAACc,GAAN,CAAU,SAACC,IAAD,qBAClB,aAAmB,SAAS,CAAC,SAA7B,wBACE,oBAAKA,IAAI,CAACC,KAAV,EADF,cAEI,KAAC,IAAD,EAAM,EAAE,iBAAWD,IAAI,CAACE,EAAhB,CAAR,uBAA8B,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,uBAA9B,EAFJ,GAAUF,IAAI,CAACE,EAAf,CADkB,EAAV,EAKPC,OALO,EAAV,CAMA;AACD,CACD,mBACE,wCACE,gCADF,cAEE,qBAAMN,OAAN,EAFF,GADF,CAOD,C,qBA1DqBlB,S,EA6DtB,cAAeG,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport { indexPoems } from '../../api/poem'\nimport { Link } from 'react-router-dom'\n\nclass MyPoems extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      poems: null\n    }\n  }\n\n  componentDidMount () {\n    const { user, msgAlert } = this.props\n\n    indexPoems(user)\n      .then((res) => this.setState({ poems: res.data.poems }))\n      .then(() => {\n        msgAlert({\n          heading: 'Welcome to <30',\n          message: 'Look at allll those Poems',\n          variant: 'success'\n        })\n      })\n      .catch((error) => {\n        msgAlert({\n          heading: 'Index Failed',\n          message: 'Index error:' + error.message,\n          variant: 'danger'\n        })\n      })\n  }\n\n\nrender () {\n  const { poems } = this.state\n\n  if (poems === null) {\n    return 'Loading...'\n  }\n\n  let poemJSX\n  if (poems.length === 0) {\n    poemJSX = 'No poems, create some'\n  } else {\n    // eslint-disable-next-line array-callback-return\n    poemJSX = poems.map((poem) => (\n      <div key={poem.id} className='my-poem'>\n        <h3>{poem.title}</h3>\n          <Link to={`/poem/${poem.id}`}><button type=\"button\" className=\"btn btn-dark\">View Poem</button></Link>\n      </div>\n    )).reverse()\n    //reverse to have recent at the top\n  }\n  return (\n    <>\n      <h1>My Poems</h1>\n      <div>{poemJSX}</div>\n\n    </>\n  )\n}\n}\n\nexport default MyPoems\n"]},"metadata":{},"sourceType":"module"}