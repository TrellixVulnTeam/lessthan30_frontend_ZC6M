{"ast":null,"code":"import _defineProperty from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{changePassword}from'../../api/auth';import{changePasswordSuccess,changePasswordFailure}from'../AutoDismissAlert/messages';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePassword=/*#__PURE__*/function(_Component){_inherits(ChangePassword,_Component);var _super=_createSuper(ChangePassword);function ChangePassword(props){var _this;_classCallCheck(this,ChangePassword);_this=_super.call(this,props);_this.handleChange=function(event){return _this.setState(_defineProperty({},event.target.name,event.target.value));};_this.onChangePassword=function(event){event.preventDefault();var _this$props=_this.props,msgAlert=_this$props.msgAlert,history=_this$props.history,user=_this$props.user;changePassword(_this.state,user).then(function(){return msgAlert({heading:'Change Password Success',message:changePasswordSuccess,variant:'success'});}).then(function(){return history.push('/');}).catch(function(error){_this.setState({oldPassword:'',newPassword:''});msgAlert({heading:'Change Password Failed with error: '+error.message,message:changePasswordFailure,variant:'danger'});});};_this.state={oldPassword:'',newPassword:''};return _this;}_createClass(ChangePassword,[{key:\"render\",value:function render(){var _this$state=this.state,oldPassword=_this$state.oldPassword,newPassword=_this$state.newPassword;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10 col-md-8 mx-auto mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Change Password\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.onChangePassword,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"oldPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Old password\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"oldPassword\",value:oldPassword,type:\"password\",placeholder:\"Old Password\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"newPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"New Password\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"newPassword\",value:newPassword,type:\"password\",placeholder:\"New Password\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});}}]);return ChangePassword;}(Component);export default withRouter(ChangePassword);","map":{"version":3,"sources":["/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/src/components/auth/ChangePassword.js"],"names":["React","Component","withRouter","changePassword","changePasswordSuccess","changePasswordFailure","Form","Button","ChangePassword","props","handleChange","event","setState","target","name","value","onChangePassword","preventDefault","msgAlert","history","user","state","then","heading","message","variant","push","catch","error","oldPassword","newPassword"],"mappings":"ovBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OAASC,qBAAT,CAAgCC,qBAAhC,KAA6D,8BAA7D,CAEA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,2FAEMC,CAAAA,c,gHACJ,wBAAaC,KAAb,CAAoB,gDAClB,uBAAMA,KAAN,EADkB,MAStBC,YATsB,CASP,SAACC,KAAD,QACb,OAAKC,QAAL,oBACGD,KAAK,CAACE,MAAN,CAAaC,IADhB,CACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC,EADa,EATO,OActBC,gBAdsB,CAcH,SAACL,KAAD,CAAW,CAC5BA,KAAK,CAACM,cAAN,GAEA,gBAAoC,MAAKR,KAAzC,CAAQS,QAAR,aAAQA,QAAR,CAAkBC,OAAlB,aAAkBA,OAAlB,CAA2BC,IAA3B,aAA2BA,IAA3B,CAEAjB,cAAc,CAAC,MAAKkB,KAAN,CAAaD,IAAb,CAAd,CACGE,IADH,CACQ,iBACJJ,CAAAA,QAAQ,CAAC,CACPK,OAAO,CAAE,yBADF,CAEPC,OAAO,CAAEpB,qBAFF,CAGPqB,OAAO,CAAE,SAHF,CAAD,CADJ,EADR,EAQGH,IARH,CAQQ,iBAAMH,CAAAA,OAAO,CAACO,IAAR,CAAa,GAAb,CAAN,EARR,EASGC,KATH,CASS,SAACC,KAAD,CAAW,CAChB,MAAKhB,QAAL,CAAc,CAAEiB,WAAW,CAAE,EAAf,CAAmBC,WAAW,CAAE,EAAhC,CAAd,EACAZ,QAAQ,CAAC,CACPK,OAAO,CAAE,sCAAwCK,KAAK,CAACJ,OADhD,CAEPA,OAAO,CAAEnB,qBAFF,CAGPoB,OAAO,CAAE,QAHF,CAAD,CAAR,CAKD,CAhBH,EAiBD,CApCqB,CAGlB,MAAKJ,KAAL,CAAa,CACXQ,WAAW,CAAE,EADF,CAEXC,WAAW,CAAE,EAFF,CAAb,CAHkB,aAOnB,C,iDA+BH,iBAAU,CACR,gBAAqC,KAAKT,KAA1C,CAAQQ,WAAR,aAAQA,WAAR,CAAqBC,WAArB,aAAqBA,WAArB,CAEA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,iCAAf,wBACE,uCADF,cAEE,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKd,gBAArB,wBACE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,aAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,2BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,aAFP,CAGE,KAAK,CAAEa,WAHT,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,cALd,CAME,QAAQ,CAAE,KAAKnB,YANjB,EAFF,GADF,cAYE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,aAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,2BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,aAFP,CAGE,KAAK,CAAEoB,WAHT,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,cALd,CAME,QAAQ,CAAE,KAAKpB,YANjB,EAFF,GAZF,cAuBE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBAvBF,GAFF,GADF,EADF,CAgCD,C,4BA1E4BT,S,EA6E7B,cAAeC,CAAAA,UAAU,CAACM,cAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { changePassword } from '../../api/auth'\nimport { changePasswordSuccess, changePasswordFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass ChangePassword extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      oldPassword: '',\n      newPassword: ''\n    }\n  }\n\nhandleChange = (event) =>\n  this.setState({\n    [event.target.name]: event.target.value\n  })\n\nonChangePassword = (event) => {\n  event.preventDefault()\n\n  const { msgAlert, history, user } = this.props\n\n  changePassword(this.state, user)\n    .then(() =>\n      msgAlert({\n        heading: 'Change Password Success',\n        message: changePasswordSuccess,\n        variant: 'success'\n      })\n    )\n    .then(() => history.push('/'))\n    .catch((error) => {\n      this.setState({ oldPassword: '', newPassword: '' })\n      msgAlert({\n        heading: 'Change Password Failed with error: ' + error.message,\n        message: changePasswordFailure,\n        variant: 'danger'\n      })\n    })\n}\n\nrender () {\n  const { oldPassword, newPassword } = this.state\n\n  return (\n    <div className='row'>\n      <div className='col-sm-10 col-md-8 mx-auto mt-5'>\n        <h3>Change Password</h3>\n        <Form onSubmit={this.onChangePassword}>\n          <Form.Group controlId='oldPassword'>\n            <Form.Label>Old password</Form.Label>\n            <Form.Control\n              required\n              name='oldPassword'\n              value={oldPassword}\n              type='password'\n              placeholder='Old Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='newPassword'>\n            <Form.Label>New Password</Form.Label>\n            <Form.Control\n              required\n              name='newPassword'\n              value={newPassword}\n              type='password'\n              placeholder='New Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n}\n\nexport default withRouter(ChangePassword)\n"]},"metadata":{},"sourceType":"module"}