{"ast":null,"code":"import _defineProperty from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable indent */ /* eslint-disable no-tabs */import React,{Component}from'react';import Form from'react-bootstrap/Form';import{updatePoem}from'../../api/poem';import{withRouter}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdatePoem=/*#__PURE__*/function(_Component){_inherits(UpdatePoem,_Component);var _super=_createSuper(UpdatePoem);function UpdatePoem(props){var _this;_classCallCheck(this,UpdatePoem);_this=_super.call(this,props);_this.handleChange=function(event){return _this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();var _this$props=_this.props,user=_this$props.user,msgAlert=_this$props.msgAlert,history=_this$props.history,match=_this$props.match;updatePoem(_this.state,match.params.id,user).then(function(){return history.push('/poems');}).then(function(){msgAlert({heading:'Poem Updated',message:'Change Saved',variant:'success'});}).catch(function(error){msgAlert({heading:'Poem Update Fail',message:'Poem error: '+error.message,variant:'danger'});});};_this.state={title:''};return _this;}_createClass(UpdatePoem,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Update Poem\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Update Poem\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"title\",value:this.state.title,placeholder:\"New Poem Title\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-secondary\",children:\"Submit\"})]})]});}}]);return UpdatePoem;}(Component);export default withRouter(UpdatePoem);","map":{"version":3,"sources":["/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/src/components/Poems/UpdatePoem.js"],"names":["React","Component","Form","updatePoem","withRouter","UpdatePoem","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","user","msgAlert","history","match","state","params","id","then","push","heading","message","variant","catch","error","title"],"mappings":"ovBAAA,2B,CACA,4BACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,gJAGMC,CAAAA,U,wGACJ,oBAAaC,KAAb,CAAoB,4CAClB,uBAAMA,KAAN,EADkB,MAQrBC,YARqB,CAQN,SAACC,KAAD,QACZ,OAAKC,QAAL,oBACKD,KAAK,CAACE,MAAN,CAAaC,IADlB,CACyBH,KAAK,CAACE,MAAN,CAAaE,KADtC,EADY,EARM,OAarBC,YAbqB,CAaN,SAACL,KAAD,CAAW,CAC1BA,KAAK,CAACM,cAAN,GAEA,gBAA2C,MAAKR,KAAhD,CAAQS,IAAR,aAAQA,IAAR,CAAcC,QAAd,aAAcA,QAAd,CAAwBC,OAAxB,aAAwBA,OAAxB,CAAiCC,KAAjC,aAAiCA,KAAjC,CAEAf,UAAU,CAAC,MAAKgB,KAAN,CAAaD,KAAK,CAACE,MAAN,CAAaC,EAA1B,CAAgCN,IAAhC,CAAV,CACEO,IADF,CACO,iBAAML,CAAAA,OAAO,CAACM,IAAR,CAAa,QAAb,CAAN,EADP,EAEED,IAFF,CAEO,UAAM,CACXN,QAAQ,CAAC,CACRQ,OAAO,CAAE,cADD,CAERC,OAAO,CAAE,cAFD,CAGRC,OAAO,CAAE,SAHD,CAAD,CAAR,CAKA,CARF,EASEC,KATF,CASQ,SAACC,KAAD,CAAW,CACjBZ,QAAQ,CAAC,CACRQ,OAAO,CAAE,kBADD,CAERC,OAAO,CAAE,eAAiBG,KAAK,CAACH,OAFxB,CAGRC,OAAO,CAAE,QAHD,CAAD,CAAR,CAKA,CAfF,EAgBI,CAlCiB,CAGlB,MAAKP,KAAL,CAAa,CACXU,KAAK,CAAE,EADI,CAAb,CAHkB,aAMnB,C,6CA8BF,iBAAU,CACV,mBACC,wCACC,mCADD,cAEC,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKhB,YAArB,wBACC,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,wBACC,KAAC,IAAD,CAAM,KAAN,0BADD,cAEC,KAAC,IAAD,CAAM,OAAN,EACC,QAAQ,KADT,CAEC,IAAI,CAAC,OAFN,CAGC,KAAK,CAAE,KAAKM,KAAL,CAAWU,KAHnB,CAIC,WAAW,CAAC,gBAJb,CAKC,QAAQ,CAAE,KAAKtB,YALhB,EAFD,GADD,cAWC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,oBAXD,GAFD,GADD,CAoBC,C,wBA1DuBN,S,EA6DzB,cAAeG,CAAAA,UAAU,CAACC,UAAD,CAAzB","sourcesContent":["/* eslint-disable indent */\n/* eslint-disable no-tabs */\nimport React, { Component } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport { updatePoem } from '../../api/poem'\nimport { withRouter } from 'react-router-dom'\n\n\nclass UpdatePoem extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      title: ''\n    }\n  }\n\n\thandleChange = (event) =>\n    this.setState({\n        [event.target.name]: event.target.value\n\t})\n\n\thandleSubmit = (event) => {\n\tevent.preventDefault()\n\n\tconst { user, msgAlert, history, match } = this.props\n\n\tupdatePoem(this.state, match.params.id ,  user)\n\t\t.then(() => history.push('/poems'))\n\t\t.then(() => {\n\t\t\tmsgAlert({\n\t\t\t\theading: 'Poem Updated',\n\t\t\t\tmessage: 'Change Saved',\n\t\t\t\tvariant: 'success'\n\t\t\t})\n\t\t})\n\t\t.catch((error) => {\n\t\t\tmsgAlert({\n\t\t\t\theading: 'Poem Update Fail',\n\t\t\t\tmessage: 'Poem error: ' + error.message,\n\t\t\t\tvariant: 'danger'\n\t\t\t})\n\t\t})\n    }\n\n\trender () {\n\treturn (\n\t\t<>\n\t\t\t<h4>Update Poem</h4>\n\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t<Form.Label >Update Poem</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\tplaceholder='New Poem Title'\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<button type='submit' className='btn btn-secondary'>\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</Form>\n\t\t</>\n\t)\n\t}\n}\n\nexport default withRouter(UpdatePoem)\n"]},"metadata":{},"sourceType":"module"}