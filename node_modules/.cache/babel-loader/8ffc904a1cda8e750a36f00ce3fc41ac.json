{"ast":null,"code":"import _defineProperty from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{signIn}from'../../api/auth';import{signInSuccess,signInFailure}from'../AutoDismissAlert/messages';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);var _super=_createSuper(SignIn);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_super.call(this,props);_this.handleChange=function(event){return _this.setState(_defineProperty({},event.target.name,event.target.value));};_this.onSignIn=function(event){event.preventDefault();var _this$props=_this.props,msgAlert=_this$props.msgAlert,history=_this$props.history,setUser=_this$props.setUser;signIn(_this.state).then(function(res){return setUser(res.data.user);}).then(function(){return msgAlert({heading:'Sign In Success',message:signInSuccess,variant:'success'});}).then(function(){return history.push('/');}).catch(function(error){_this.setState({email:'',password:''});msgAlert({heading:'Sign In Failed with error: '+error.message,message:signInFailure,variant:'danger'});});};_this.state={email:'',password:''};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,password=_this$state.password;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10 col-md-8 mx-auto mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.onSignIn,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"email\",name:\"email\",value:email,placeholder:\"Enter email\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,name:\"password\",value:password,type:\"password\",placeholder:\"Password\",onChange:this.handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})});}}]);return SignIn;}(Component);export default withRouter(SignIn);","map":{"version":3,"sources":["/Users/heuchertc/sei/projects/lessthan30_django_env/lessthan30_frontend/src/components/auth/SignIn.js"],"names":["React","Component","withRouter","signIn","signInSuccess","signInFailure","Form","Button","SignIn","props","handleChange","event","setState","target","name","value","onSignIn","preventDefault","msgAlert","history","setUser","state","then","res","data","user","heading","message","variant","push","catch","error","email","password"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { signIn } from '../../api/auth'\nimport { signInSuccess, signInFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass SignIn extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      email: '',\n      password: ''\n    }\n  }\n\nhandleChange = (event) =>\n  this.setState({\n    [event.target.name]: event.target.value\n  })\n\nonSignIn = (event) => {\n  event.preventDefault()\n\n  const { msgAlert, history, setUser } = this.props\n\n  signIn(this.state)\n    .then((res) => setUser(res.data.user))\n    .then(() =>\n      msgAlert({\n        heading: 'Sign In Success',\n        message: signInSuccess,\n        variant: 'success'\n      })\n    )\n    .then(() => history.push('/'))\n    .catch((error) => {\n      this.setState({ email: '', password: '' })\n      msgAlert({\n        heading: 'Sign In Failed with error: ' + error.message,\n        message: signInFailure,\n        variant: 'danger'\n      })\n    })\n}\n\nrender () {\n  const { email, password } = this.state\n\n  return (\n    <div className='row'>\n      <div className='col-sm-10 col-md-8 mx-auto mt-5'>\n        <h3>Sign In</h3>\n        <Form onSubmit={this.onSignIn}>\n          <Form.Group controlId='email'>\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              required\n              type='email'\n              name='email'\n              value={email}\n              placeholder='Enter email'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name='password'\n              value={password}\n              type='password'\n              placeholder='Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n}\n\nexport default withRouter(SignIn)\n"]},"metadata":{},"sourceType":"module"}